DB接続

DB＞データを管理する仕組みのことです。
どんなことができるかというと…

Create（新規作成）
Read（検索）
Update（更新）
Delete（削除
）
の処理ができます。頭文字を合わせてCRUDといいます。


DBにもいろんな種類があり、使い方や用途が違います。
・関係型DB
・階層型DB
・ネットワーク型DB
・ドキュメント型DB

それぞれメリット・デメリットはあります。



今回は関係型の「MySQL」というDBを使用します。無料です。
なので、今から記述するものはMySQLに有効です。


・MySQLインストール
・XAMPPをインストール（自分のPCでMySQLを使えるようにするため）

MySQLでは「SQL」というプログラミング言語を使用するので、Java
とはまた違う言語。

同じ文字列を格納する変数を作成する型も、
javaファイルでは「String」
SQLでは「varchar」
と書きます。

くそっこれだからプログラミングはやめらんねぇ！



それでは、DB接続
では具体的に何をしているのか

図





1，データベースに接続
2，SQLで、DBに対して何らかの処理（検索や更新）
3，DBとの接続を切る


です。
WEBサイトでIDやパスワードを入力。

データベースの中に一致するものがあるか検索。
一致すればホーム画面画面。不一致ならば、ログイン画面を表示。
などをする時に使います。



前準備-DB作成

JDBCドライバーをダウンロード
「mysql connector j」と検索すると公式サイト出てきます

ダウンロードしたドライバーを、作成したプロジェクトのライブラリに入れれば準備完了。
（Oracleなど他のDB使うときは、それ専用のドライバーをダウンロードします）


ほい。そしたらSQLファイルでTestデータベースを作成します。
今回は、IDと、名前と、パスワードをデータベースに入れます。


こんな感じのDBがあると思ってください。

表


全体をテーブル
縦の列を
横の列を

DBを作成する際、一番はじめだけ、ドライバーの選択やデータベース名入力画面が出てくるよ。
＞問題なく作成できているか確認したいならコマンドプロンプトに専用コマンドを打てば良いよ。


DBが作成できたら、それに接続していきます。




1，データベースに接続

接続に必要なプログラミングをしていきます。ファイル名はなんでも大丈夫です。DBConnectorにはとTestDAOとしておきます。
DBConnectorは、JDBCドライバーの情報を書いて読み込める状態にするプログラムを。定型文なので、これは、ググってコピペすれば大丈夫。
TestDAO(Data Access Object)にはDBConnectorを呼び出すプログラムを書きます。これも、こう書いてねっていうのが決まってるようなもんだから、テンプレに従ってちょちょっと直せば大丈夫。

このプログラムはこういう意味ですよ！
ってのがたくさんあるけど、多すぎるので、ググったり本で調べたりいただければ。


はいこれで接続できました。



2，SQLで、DBに対して何らかの処理（検索や更新）
この処理もTestDAOにちゃーっと書きます。


3，DBとの接続を切る
Connection変数名.close()；
で切れます。


なんだかカッスカスな内容だ！































